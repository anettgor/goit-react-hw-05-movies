{"version":3,"file":"static/js/910.fd5dd1c7.chunk.js","mappings":"iRACA,EAAqB,mBAArB,EAAwD,8BAAxD,EAA8F,sBAA9F,EAA2H,qBAA3H,EAAyJ,uB,SCgFzJ,MA3EA,WACE,OAA0BA,EAAAA,EAAAA,UAAS,IAAnC,eAAOC,EAAP,KAAcC,EAAd,KACA,GAA8BF,EAAAA,EAAAA,UAAS,IAAvC,eAAOG,EAAP,KAAgBC,EAAhB,KACA,GAAwCC,EAAAA,EAAAA,MAAxC,eAAOC,EAAP,KAAqBC,EAArB,KACA,GAAkCP,EAAAA,EAAAA,WAAS,GAA3C,eAAOQ,EAAP,KAAkBC,EAAlB,KAEMC,EAAG,4DADG,mCACH,kBAAqET,GAE1EU,EAAe,GACbC,EAAY,mCAAG,WAAMC,GAAN,gFACnBA,EAAEC,iBADiB,UAEMC,EAAAA,EAAAA,GAAUL,GAFhB,OAEbM,EAFa,QAIbC,GAJa,OAIHD,EAAWb,WACD,IAAfc,EAAIC,QACbD,EAAIE,KAAI,SAAAC,GAAK,OACXT,EAAaU,KAAK,CAAEC,MAAOF,EAAME,OAASF,EAAMG,KAAMC,GAAIJ,EAAMI,IADrD,IAGbpB,EAAWO,GACXF,GAAa,GACbgB,EAAkBxB,IAElByB,EAAAA,OAAAA,KAAY,yCAbK,2CAAH,sDAiBZD,EAAoB,SAAAxB,GAExBM,EAD6B,KAAVN,EAAe,CAAEA,MAAAA,GAAU,CAAC,GAE/C0B,QAAQC,IAAItB,EACb,EAMD,OACE,iCACE,kBAAMuB,UAAWC,EAAUC,SAAUnB,EAArC,WACE,kBACEiB,UAAWC,EACXE,KAAK,OACLC,YAAY,mBACZC,MAAOjC,EACPkC,SAZa,SAAAtB,GACnBX,EAASW,EAAEuB,OAAOF,MACnB,KAYK,mBAAQL,UAAWC,EAAYE,KAAK,SAApC,wBAKF,eAAIH,UAAWC,EAAf,UACItB,GACAL,GACAA,EAAQgB,KAAI,SAAAkB,GACV,OACE,SAAC,KAAD,CACEC,MAAO,CACLC,MAAO,QACPC,eAAgB,OAChBC,OAAQ,WAEVC,GAAE,kBAAaL,EAAOb,IANxB,UAQE,eAAIK,UAAWC,EAAf,SACGO,EAAOf,OADkBe,EAAOb,KAKxC,QAIV,C,qBC1ED,IALkB,SAAAmB,GAAG,OACnBC,MAAMD,GACHE,MAAK,SAAA5B,GAAG,OAAIA,EAAI6B,MAAR,IACRC,OAAM,SAAAC,GAAK,OAAIrB,QAAQC,IAAIoB,EAAhB,GAHK,C","sources":["webpack://goit-react-hw-05-movies/./src/pages/Movies/Movies.module.css?82ee","pages/Movies/Movies.jsx","utils/fetchMovies.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"li\":\"Movies_li__FFV4X\",\"listContainer\":\"Movies_listContainer__kmeL5\",\"input\":\"Movies_input__KrUqs\",\"form\":\"Movies_form__4ow+Z\",\"button\":\"Movies_button__GcIka\"};","// import fetchTrending from './../../utils/fetchMovies';\nimport { useState } from 'react';\nimport fetchData from './../../utils/fetchMovies';\nimport { Notify } from 'notiflix';\nimport { Link, useSearchParams } from 'react-router-dom';\nimport css from './Movies.module.css';\nfunction Movies() {\n  const [query, setQuery] = useState('');\n  const [results, setResults] = useState([]);\n  const [searchParams, setSearchParams] = useSearchParams();\n  const [isLoading, setIsLoading] = useState(true);\n  const key = '7bfaca5914dfe808eee9ce7ecac1ff40';\n  const URL = `https://api.themoviedb.org/3/search/movie?api_key=${key}&query=${query}`;\n\n  let resultHolder = [];\n  const handleSubmit = async e => {\n    e.preventDefault();\n    const movieQuery = await fetchData(URL);\n\n    const res = [...movieQuery.results];\n    if (res && res.length !== 0) {\n      res.map(movie =>\n        resultHolder.push({ title: movie.title || movie.name, id: movie.id })\n      );\n      setResults(resultHolder);\n      setIsLoading(false);\n      updateQueryString(query);\n    } else {\n      Notify.info('No movies match your query. Try again');\n    }\n  };\n\n  const updateQueryString = query => {\n    const nextParams = query !== '' ? { query } : {};\n    setSearchParams(nextParams);\n    console.log(searchParams);\n  };\n\n  const handleChange = e => {\n    setQuery(e.target.value);\n  };\n\n  return (\n    <>\n      <form className={css.form} onSubmit={handleSubmit}>\n        <input\n          className={css.input}\n          type=\"text\"\n          placeholder=\"Search movies...\"\n          value={query}\n          onChange={handleChange}\n        ></input>\n        <button className={css.button} type=\"submit\">\n          Search\n        </button>\n      </form>\n\n      <ul className={css.listContainer}>\n        {!isLoading &&\n          results &&\n          results.map(result => {\n            return (\n              <Link\n                style={{\n                  color: 'unset',\n                  textDecoration: 'none',\n                  cursor: 'pointer',\n                }}\n                to={`/movies/${result.id}`}\n              >\n                <li className={css.li} key={result.id}>\n                  {result.title}\n                </li>\n              </Link>\n            );\n          })}\n      </ul>\n    </>\n  );\n}\n\nexport default Movies;\n","const fetchData = url =>\n  fetch(url)\n    .then(res => res.json())\n    .catch(error => console.log(error));\n\nexport default fetchData;\n"],"names":["useState","query","setQuery","results","setResults","useSearchParams","searchParams","setSearchParams","isLoading","setIsLoading","URL","resultHolder","handleSubmit","e","preventDefault","fetchData","movieQuery","res","length","map","movie","push","title","name","id","updateQueryString","Notify","console","log","className","css","onSubmit","type","placeholder","value","onChange","target","result","style","color","textDecoration","cursor","to","url","fetch","then","json","catch","error"],"sourceRoot":""}